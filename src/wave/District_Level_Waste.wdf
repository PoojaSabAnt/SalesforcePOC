["{}","{\"nodes\":{\"FORMULA6\":{\"sources\":[\"FORMULA5\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"(SUM_cy_waste_abs/\\\"TargetWaste.SUM_target_waste\\\")*100\",\"defaultValue\":\"\",\"precision\":18,\"name\":\"Value4\",\"scale\":2,\"label\":\"Value 4\",\"type\":\"NUMBER\"}]}},\"EXTRACT0\":{\"sources\":[\"FILTER0\"],\"action\":\"extractGrains\",\"parameters\":{\"grainExtractions\":[]}},\"FORMULA8\":{\"sources\":[\"FORMULA9\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"concat('US01','_',KPIGroup,'_',KPITitle,'_',district)\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"ExternalID\",\"label\":\"External ID\",\"type\":\"TEXT\"}]}},\"FORMULA9\":{\"sources\":[\"FORMULA6\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"string(Value4)\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"Value4_formula\",\"label\":\"Value 4 Formula\",\"type\":\"TEXT\"}]}},\"FILTER0\":{\"sources\":[\"LOAD_DATASET0\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[{\"argument\":0,\"type\":\"N_MONTHS\"},{\"argument\":0,\"type\":\"N_MONTHS\"}],\"field\":\"cy_calendar_day\",\"type\":\"DATETIME\",\"operator\":\"IN_RANGE\"}]}},\"DROP_FIELDS0\":{\"sources\":[\"FORMULA8\"],\"action\":\"schema\",\"parameters\":{\"slice\":{\"mode\":\"SELECT\",\"ignoreMissingFields\":true,\"fields\":[\"KPIGroup\",\"KPITitle\",\"KPIDate\",\"Value1\",\"Value2\",\"Value3\",\"Value4_formula\",\"ExternalID\",\"District.Id\"]},\"fields\":[]}},\"FILTER1\":{\"sources\":[\"LOAD_DATASET1\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[{\"argument\":0,\"type\":\"N_MONTHS\"},{\"argument\":0,\"type\":\"N_MONTHS\"}],\"field\":\"calendar_day\",\"type\":\"DATETIME\",\"operator\":\"IN_RANGE\"}]}},\"AGGREGATE1\":{\"schema\":{\"fields\":[{\"newProperties\":{\"typeProperties\":{\"precision\":18,\"scale\":2,\"type\":\"NUMBER\"}},\"name\":\"SUM_cy_waste_abs\"},{\"newProperties\":{\"typeProperties\":{\"precision\":18,\"scale\":2,\"type\":\"NUMBER\"}},\"name\":\"SUM_cy_gross_revenue\"}]},\"sources\":[\"EXTRACT0\"],\"action\":\"aggregate\",\"parameters\":{\"groupings\":[\"district\",\"District.Id\"],\"pivots\":[],\"nodeType\":\"STANDARD\",\"aggregations\":[{\"name\":\"SUM_cy_waste_abs\",\"action\":\"SUM\",\"source\":\"cy_waste_abs\",\"label\":\"Sum of CY Waste Abs\"},{\"name\":\"SUM_cy_gross_revenue\",\"action\":\"SUM\",\"source\":\"cy_gross_revenue\",\"label\":\"Sum of CY Gross Revenue\"}]}},\"AGGREGATE3\":{\"schema\":{\"fields\":[{\"newProperties\":{\"typeProperties\":{\"precision\":18,\"scale\":2,\"type\":\"NUMBER\"}},\"name\":\"SUM_target_waste\"}]},\"sources\":[\"EXTRACT1\"],\"action\":\"aggregate\",\"parameters\":{\"groupings\":[\"district\"],\"pivots\":[],\"nodeType\":\"STANDARD\",\"aggregations\":[{\"name\":\"SUM_target_waste\",\"action\":\"SUM\",\"source\":\"target_waste\",\"label\":\"Sum of Target Waste\"}]}},\"JOIN0\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[]},\"fields\":[]},\"sources\":[\"AGGREGATE1\",\"AGGREGATE3\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"district\"],\"rightQualifier\":\"TargetWaste\",\"rightKeys\":[\"district\"],\"joinType\":\"LOOKUP\"}},\"OUTPUT0\":{\"sources\":[\"DROP_FIELDS0\"],\"action\":\"outputExternal\",\"parameters\":{\"hyperFileName\":\"\",\"connectorType\":\"SALESFORCE_OUTPUT\",\"externalIdFieldName\":\"MDLZ_ExternalId__c\",\"connectionName\":\"Mondelez\",\"fieldsMapping\":[{\"sourceField\":\"District.Id\",\"targetField\":\"MDLZ_TerritoryId__c\"},{\"sourceField\":\"KPIGroup\",\"targetField\":\"MDLZ_KPIGroup__c\"},{\"sourceField\":\"KPITitle\",\"targetField\":\"MDLZ_KPITitle__c\"},{\"sourceField\":\"KPIDate\",\"targetField\":\"MDLZ_KPIDate__c\"},{\"sourceField\":\"Value1\",\"targetField\":\"MDLZ_Value1__c\"},{\"sourceField\":\"Value2\",\"targetField\":\"MDLZ_Value2__c\"},{\"sourceField\":\"Value3\",\"targetField\":\"MDLZ_Value3__c\"},{\"sourceField\":\"Value4_formula\",\"targetField\":\"MDLZ_Value4__c\"},{\"sourceField\":\"ExternalID\",\"targetField\":\"MDLZ_ExternalId__c\"}],\"operation\":\"upsert\",\"object\":\"MDLZ_KPIData__c\"}},\"LOAD_DATASET1\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"calendar_day\",\"team\",\"sales_repterritory\",\"district\",\"target_waste\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"name\":\"MDLZ_Target_Waste\",\"label\":\"MDLZ Target Waste\",\"type\":\"analyticsDataset\"}}},\"LOAD_DATASET0\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"cy_calendar_day\",\"district\",\"team\",\"sales_repterritory\",\"cy_waste_abs\",\"cy_gross_revenue\",\"District.Id\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"name\":\"MDLZ_SKU_Waste\",\"label\":\"MDLZ SKU Waste\",\"type\":\"analyticsDataset\"}}},\"FORMULA0\":{\"sources\":[\"JOIN0\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"'District'\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"KPIGroup\",\"label\":\"KPI Group\",\"type\":\"TEXT\"}]}},\"FORMULA1\":{\"sources\":[\"FORMULA0\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"'Waste'\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"KPITitle\",\"label\":\"KPI Title\",\"type\":\"TEXT\"}]}},\"FORMULA2\":{\"sources\":[\"FORMULA1\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"now()\",\"defaultValue\":\"\",\"name\":\"KPIDate\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"label\":\"KPI Refresh Date\",\"type\":\"DATETIME\"}]}},\"FORMULA3\":{\"sources\":[\"FORMULA2\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"0\",\"defaultValue\":\"\",\"precision\":18,\"name\":\"Value1\",\"scale\":0,\"label\":\"Value 1\",\"type\":\"NUMBER\"}]}},\"EXTRACT1\":{\"sources\":[\"FILTER1\"],\"action\":\"extractGrains\",\"parameters\":{\"grainExtractions\":[]}},\"FORMULA4\":{\"sources\":[\"FORMULA3\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"\\\"TargetWaste.SUM_target_waste\\\"\",\"defaultValue\":\"\",\"precision\":18,\"name\":\"Value2\",\"scale\":2,\"label\":\"Value 2\",\"type\":\"NUMBER\"}]}},\"FORMULA5\":{\"sources\":[\"FORMULA4\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"SUM_cy_waste_abs\",\"defaultValue\":\"\",\"precision\":18,\"name\":\"Value3\",\"scale\":2,\"label\":\"Value 3\",\"type\":\"NUMBER\"}]}}},\"ui\":{\"hiddenColumns\":[],\"connectors\":[{\"source\":\"LOAD_DATASET0\",\"target\":\"FILTER0\"},{\"source\":\"LOAD_DATASET1\",\"target\":\"FILTER1\"},{\"source\":\"FILTER0\",\"target\":\"AGGREGATE0\"},{\"source\":\"FILTER1\",\"target\":\"AGGREGATE2\"},{\"source\":\"AGGREGATE0\",\"target\":\"JOIN0\"},{\"source\":\"AGGREGATE2\",\"target\":\"JOIN0\"},{\"source\":\"JOIN0\",\"target\":\"TRANSFORM0\"},{\"source\":\"TRANSFORM0\",\"target\":\"OUTPUT0\"}],\"nodes\":{\"JOIN0\":{\"top\":112,\"left\":532,\"label\":\"Join 0\",\"type\":\"JOIN\"},\"OUTPUT0\":{\"top\":112,\"left\":812,\"label\":\"Output 0\",\"type\":\"OUTPUT\"},\"FILTER0\":{\"top\":112,\"left\":252,\"label\":\"Filter 0\",\"type\":\"FILTER\"},\"LOAD_DATASET1\":{\"top\":252,\"left\":112,\"label\":\"MDLZ Target Waste\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"FILTER1\":{\"top\":252,\"left\":252,\"label\":\"Filter 1\",\"type\":\"FILTER\"},\"LOAD_DATASET0\":{\"top\":112,\"left\":112,\"label\":\"MDLZ SKU Waste\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"AGGREGATE0\":{\"connectors\":[{\"source\":\"EXTRACT0\",\"target\":\"AGGREGATE1\"}],\"top\":112,\"left\":392,\"label\":\"Aggregate 0\",\"type\":\"AGGREGATE\",\"graph\":{\"EXTRACT0\":null,\"AGGREGATE1\":null}},\"AGGREGATE2\":{\"connectors\":[{\"source\":\"EXTRACT1\",\"target\":\"AGGREGATE3\"}],\"top\":252,\"left\":392,\"label\":\"Aggregate 2\",\"type\":\"AGGREGATE\",\"graph\":{\"AGGREGATE3\":null,\"EXTRACT1\":null}},\"TRANSFORM0\":{\"connectors\":[{\"source\":\"FORMULA0\",\"target\":\"FORMULA1\"},{\"source\":\"FORMULA1\",\"target\":\"FORMULA2\"},{\"source\":\"FORMULA2\",\"target\":\"FORMULA3\"},{\"source\":\"FORMULA3\",\"target\":\"FORMULA4\"},{\"source\":\"FORMULA4\",\"target\":\"FORMULA5\"},{\"source\":\"FORMULA5\",\"target\":\"FORMULA6\"},{\"source\":\"FORMULA9\",\"target\":\"FORMULA8\"},{\"source\":\"FORMULA6\",\"target\":\"FORMULA9\"},{\"source\":\"FORMULA8\",\"target\":\"DROP_FIELDS0\"}],\"top\":112,\"left\":672,\"label\":\"Transform 0\",\"type\":\"TRANSFORM\",\"graph\":{\"FORMULA6\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA8\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA9\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"DROP_FIELDS0\":{\"label\":\"Drop Columns\"},\"FORMULA0\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA1\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA2\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA3\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA4\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA5\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}}},\"assetType\":\"TCRM\"},\"version\":\"55.0\"}"]